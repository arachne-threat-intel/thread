<div class="accordion" id="reportInfoAccordion">
  <div class="accordion-item">
    <h2 class="accordion-header" id="reportInfoHeader">
      <button class="accordion-button collapsed bg-dark" type="button" data-bs-toggle="collapse"
              data-bs-target="#reportInfoForm" aria-expanded="false" aria-controls="reportInfoForm">
        <b>Report Information</b>
      </button>
    </h2>
    <div id="reportInfoForm" class="accordion-collapse collapse bg-dark" aria-labelledby="reportInfoHeader"
         data-bs-parent="#reportInfoAccordion">
      <div class="accordion-body">
        <form id="reportDatesForm">{# Report date fields #}
          <div class="row">
            <label for="dateOf" class="col-sm-4 col-form-label"><b>Article Publication Date:</b></label>
            <div class="col-sm-8">
              <input type="date" class="form-control" id="dateOf" value="{{date_written}}" required {% if completed %}readonly{% endif %}>
            </div>
          </div>
          <br>
          <span><b>Confirmed Techniques</b></span>
          <br><small>You can set Start/End dates for individual confirmed techniques after selecting a sentence.</small>
          <br><br>
          <div class="row">
            <label for="startDate" class="col-sm-4 col-form-label"><b>Start Date:</b></label>
            <div class="col-sm-8">
              <input type="date" class="form-control" id="startDate" value="{{start_date}}" {% if completed %}readonly{% endif %}>
            </div>
          </div>
          <div class="d-flex">
            <input type="checkbox" id="dateRange" class="report-submission-checkbox" onchange="dateRangeChecked(this)"
                   {% if same_dates %}checked{% endif %} {% if completed %}disabled{% endif %}>
            <label for="dateRange" id="dateRangeLabel"><small>No time range for techniques?</small></label>
          </div>
          <div id="endDateDiv" class="row" {% if same_dates %}hidden{% endif %}>
            <label for="endDate" class="col-sm-4 col-form-label"><b>End Date:</b></label>
            <div class="col-sm-8">
              <input type="date" class="form-control" id="endDate" value="{{end_date}}" {% if completed %}readonly{% endif %}>
            </div>
          </div>
          {% if not completed %}
            <br>
            <button type="button" onclick="updateReportDates('{{title_quoted}}')" class="btn btn-md btn-primary">Update Report Dates</button>
          {% endif %}
        </form><hr>
        <form id="reportCategoriesForm">{# Report categories #}
          <div class="row">
            <label for="categorySelect" class="col-sm-4 col-form-label"><b>Report Categories:</b></label>
            <div class="col-sm-8">
              <select id="categorySelect" class="selectpicker" data-size="5" data-live-search="true" data-width="100%"
                      title="Select categories" multiple data-selected-text-format="count" required {% if completed %}disabled{% endif %}>
                {% for category_entry in category_list %}
                    <option class="categoryOpt" value="{{category_entry.keyname}}" {% if category_entry.keyname in categories %}selected{% endif %}>{{category_entry.display_name}}</option>
                {% endfor %}
              </select>
            </div>
            <!-- TODO display list of categories if count > 1 -->
          </div>
          {% if not completed %}
            <br>
            <button type="button" onclick="setReportCategories('{{title_quoted}}')" class="btn btn-md btn-primary">Set Report Categories</button>
          {% endif %}
        </form>
      </div>
    </div>
  </div>
</div>
